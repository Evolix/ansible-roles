ServerTokens Prod
Timeout 10
KeepAliveTimeout 2
MaxKeepAliveRequests 10
#MaxClients 250

<IfModule mpm_prefork_module>
    MaxRequestWorkers 250
    ServerLimit 250
    StartServers 50
    MinSpareServers 20
    MaxSpareServers 30
    MaxRequestsPerChild 0
</IfModule>

<IfModule mpm_worker_module>
    StartServers         3
    MinSpareThreads      25
    MaxSpareThreads      75
    ThreadLimit          64
    ThreadsPerChild      25
    MaxRequestWorkers     150
    MaxConnectionsPerChild   0
</IfModule>

<IfModule mpm_itk_module>
    LimitUIDRange       0 6000
    LimitGIDRange       0 6000
</IfModule>

<IfModule ssl_module>
    SSLProtocol all -SSLv2 -SSLv3
    SSLCipherSuite HIGH:MEDIUM:!aNULL:!MD5:!RC4
</IfModule>

<IfModule status_module>
    ExtendedStatus On
    <IfModule proxy_module>
        ProxyStatus On
    </IfModule>
</IfModule>


<Directory /home/>
    AllowOverride None
    Require all granted
    # "Require not env XXX" is not supported :(
    Deny from env=GoAway
</Directory>


<Files ~ "\.(inc|bak)$">
    Require all denied
</Files>


<LocationMatch "^/evolinux_fpm_status-.*">
    Require all denied
</LocationMatch>

# Block http request on /.git
RedirectMatch 404 /\.git
