---

- name: Choose packages (Oracle)
  set_fact:
    mysql_packages: "{{ mysql_packages_oracle }}"
  when: mysql_variant == "oracle"

- name: Choose packages (MariaDB)
  set_fact:
    mysql_packages: "{{ mysql_packages_mariadb }}"
  when: mysql_variant == "mariadb"

- name: Install packages
  apt:
    name: '{{ item }}'
    update_cache: yes
    state: installed
  with_items: "{{ mysql_packages }}"
  tags:
    - mysql
    - packages

- name: MySQL is started
  service:
    name: mysql
    state: started
