---

- fail:
    msg: only compatible with Debian >= 8
  when:
  - ansible_distribution == "Debian"
  - ansible_distribution_major_version | version_compare('8', '<')

- include: php_jessie.yml
  when: ansible_distribution_release == "jessie"

- include: php_stretch.yml
  when: ansible_distribution_major_version | version_compare('9', '>=')

- include: fpm.yml
  when: php_fpm_enable

- include: apache.yml
  when: php_apache_enable

