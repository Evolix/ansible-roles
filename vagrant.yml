---
- hosts: all
  gather_facts: yes
  become: yes
  vars_files:
    - 'vars/main.yml'

  roles:
    # - apt-upgrade
    # - { role: apt-upgrade, apt_upgrade_mode: safe }
    # - evolinux-base
    # - listupgrade
    # - etc-git
    - evolinux
    # - postfix
    # - minifirewall
    # - squid
    # - evomaintenance
    # - munin
    # - monit
    # - redis
    # - { role: rbenv, username: 'vagrant' }
    # - mysql
    # - { role: mysql, mysql_custom_tmpdir: '/home/mysql-tmpdir' }
    # - {
    #     role: "nginx",
    #     nginx_private_ipaddr_whitelist_present: ["192.168.0.2"],
    #     nginx_private_ipaddr_whitelist_absent: ["127.0.0.1"],
    #     nginx_private_htpasswd_present: ["qsdfqsdf:dsfgdfsdf"],
    #     nginx_private_htpasswd_absent: ["toto:dsfgdfsdf"]
    #   }
    # - apache
    # - { role: elastic-stack,
    #     elasticsearch_jvm_xms: "256m",
    #     elasticsearch_jvm_xmx: "256m"
    #   }
    # - filebeat
