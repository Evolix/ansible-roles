---

- fail:
    msg: only compatible with Debian >= 8
  when:
  - ansible_distribution != "Debian" or ansible_distribution_major_version | version_compare('8', '<')

- debug:
    msg: "Warning: empty 'admin_users' variable, tasks will be skipped!"
  when: admin_users == {}

- include: admin_user.yml
  vars:
    user: "{{ item.value }}"
  with_dict: "{{ admin_users }}"
  when: admin_users != {}
