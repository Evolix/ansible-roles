---

- name: "evocommit script is installed"
  copy:
    src: evocommit
    dest: /usr/local/bin/evocommit
    mode: "0755"
    force: yes

# /etc
- name: "evocommit /etc"
  shell: "test -d /etc/.git && /usr/local/bin/evocommit --repository /etc --message \"{{ commit_message | default(etc_git_default_commit_message) }}\""
  ignore_errors: yes

# /etc/bind
- name: "evocommit /etc/bind"
  shell: "test -d /etc/bind/.git && /usr/local/bin/evocommit --repository /etc/bind --message \"{{ commit_message | default(etc_git_default_commit_message) }}\""
  ignore_errors: yes

# /usr/share/scripts
- name: "evocommit /usr/share/scripts"
  shell: "test -d /usr/share/scripts/.git && /usr/local/bin/evocommit --repository /usr/share/scripts --message \"{{ commit_message | default(etc_git_default_commit_message) }}\""
  ignore_errors: yes
