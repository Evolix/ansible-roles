---

- name: Git is installed (Debian)
  apt:
    name: git
    state: present
  tags:
    - etc-git
  when: 
    - ansible_distribution == "Debian"
    - not ansible_check_mode

- name: Install and configure utilities
  include: utils.yml
  tags:
    - etc-git

- name: Configure repositories
  include: repositories.yml
  tags:
    - etc-git
  when:
    - etc_git_config_repositories | bool
    - not ansible_check_mode
